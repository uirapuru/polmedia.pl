<?php

namespace Dende\PolmediaBundle\Entity;

use Dende\PolmediaBundle\Entity\Video;
use Doctrine\ORM\EntityRepository;
use Doctrine\ORM\QueryBuilder;

/**
 * VideoRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class VideoRepository extends EntityRepository {

    public function getPromotedVideos() {
        return $this->createQueryBuilder("v")
                ->where("v.isFront = true")
                ->getQuery()
                ->execute();
    }

    public function getVideos(Category $category = null) {
        return $this->createQueryBuilder("v")
                ->where("v.category = :category")
                ->setParameters(array(
                    "category" => $category
                ))
                ->getQuery()
                ->execute();
    }

}
